openapi: 3.0.3
info:
  title: QWality Inspection System API
  description: |
    API —Å–∏—Å—Ç–µ–º—ã –∏–Ω—Å–ø–µ–∫—Ü–∏–∏ –∫–∞—á–µ—Å—Ç–≤–∞ QWality, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—â–∏–π –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–ª–∏–µ–Ω—Ç–∞–º–∏, 
    –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏, –∫–∞–º–µ—Ä–∞–º–∏, –∏–Ω—Å–ø–µ–∫—Ü–∏—è–º–∏ –∏ –¥–µ—Ñ–µ–∫—Ç–∞–º–∏ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –º–∞—à–∏–Ω–Ω–æ–≥–æ –æ–±—É—á–µ–Ω–∏—è.
    
    ## –ö–∞–∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ Swagger UI:
    
    1. **–ü–æ–ª—É—á–∏—Ç–µ —Ç–æ–∫–µ–Ω—ã**: –í—ã–ø–æ–ª–Ω–∏—Ç–µ POST `/auth/login` —Å –≤–∞—à–∏–º–∏ —É—á–µ—Ç–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
    2. **–ê–≤—Ç–æ—Ä–∏–∑—É–π—Ç–µ—Å—å**: –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "Authorize" (üîí) –≤–≤–µ—Ä—Ö—É —Å—Ç—Ä–∞–Ω–∏—Ü—ã
    3. **–í—Å—Ç–∞–≤—å—Ç–µ access_token**: –í –ø–æ–ª–µ "Value" –≤—Å—Ç–∞–≤—å—Ç–µ **—Ç–æ–ª—å–∫–æ —Å–∞–º —Ç–æ–∫–µ–Ω** (–±–µ–∑ —Å–ª–æ–≤–∞ "Bearer")
    4. **–ù–∞–∂–º–∏—Ç–µ "Authorize"**: –¢–µ–ø–µ—Ä—å –≤—Å–µ –∑–∞—â–∏—â–µ–Ω–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –±—É–¥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç—Ç–æ—Ç —Ç–æ–∫–µ–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
    
    ## –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞:
    –ö–æ–≥–¥–∞ access_token –∏—Å—Ç–µ—á–µ—Ç (–ø–æ–ª—É—á–∏—Ç–µ 401), –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `/auth/refresh` –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –Ω–æ–≤–æ–≥–æ —Ç–æ–∫–µ–Ω–∞,
    –∑–∞—Ç–µ–º –ø–æ–≤—Ç–æ—Ä–∏—Ç–µ –ø—Ä–æ—Ü–µ–¥—É—Ä—É –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ —Å –Ω–æ–≤—ã–º —Ç–æ–∫–µ–Ω–æ–º.
    
    ## –†–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
    - **owner**: –í–ª–∞–¥–µ–ª–µ—Ü –∫–æ–º–ø–∞–Ω–∏–∏, –ø–æ–ª–Ω—ã–µ –ø—Ä–∞–≤–∞
    - **admin**: –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä, –º–æ–∂–µ—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏
    - **moderator**: –ú–æ–¥–µ—Ä–∞—Ç–æ—Ä, –º–æ–∂–µ—Ç –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –∏ —É–ø—Ä–∞–≤–ª—è—Ç—å –∏–Ω—Å–ø–µ–∫—Ü–∏—è–º–∏
    - **user**: –û–±—ã—á–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å, –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–µ –ø—Ä–∞–≤–∞ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞
  version: 1.2.0
  contact:
    name: QWality Support
    email: support@qwality.space
  license:
    name: MIT
    url: https://opensource.org/licenses/MIT
  termsOfService: https://qwality.space/terms

servers:
  - url: https://api.qwality.space

security:
  - BearerAuth: [ ]

tags:
  - name: –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
    description: –û–ø–µ—Ä–∞—Ü–∏–∏, —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–µ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
  - name: –ö–ª–∏–µ–Ω—Ç—ã
    description: –û–ø–µ—Ä–∞—Ü–∏–∏, —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º –∫–ª–∏–µ–Ω—Ç–∞–º–∏
  - name: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
    description: –û–ø–µ—Ä–∞—Ü–∏–∏, —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
  - name: –ö–∞–º–µ—Ä—ã
    description: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞–º–µ—Ä–∞–º–∏ –∏ —Å–≤—è–∑–∞–Ω–Ω—ã–º–∏ –æ–ø–µ—Ä–∞—Ü–∏—è–º–∏, –≤–∫–ª—é—á–∞—è –∫–æ—Ä–∑–∏–Ω—É
  - name: –ò–Ω—Å–ø–µ–∫—Ü–∏–∏
    description: –ü—Ä–æ–≤–µ–¥–µ–Ω–∏–µ –∏–Ω—Å–ø–µ–∫—Ü–∏–π –∏ –ø–æ–ª—É—á–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
  - name: –î–µ—Ñ–µ–∫—Ç—ã
    description: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–µ—Ñ–µ–∫—Ç–∞–º–∏ –∏ —Å–≤—è–∑–∞–Ω–Ω—ã–º–∏ –æ–ø–µ—Ä–∞—Ü–∏—è–º–∏, –≤–∫–ª—é—á–∞—è –∫–æ—Ä–∑–∏–Ω—É
  - name: –õ–∏—Ü–µ–Ω–∑–∏–∏
    description: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ª–∏—Ü–µ–Ω–∑–∏—è–º–∏ –∏ –ø–æ–¥–ø–∏—Å–∫–∞–º–∏
  - name: –≠–∫—Å–ø–æ—Ä—Ç
    description: –≠–∫—Å–ø–æ—Ä—Ç –æ—Ç—á–µ—Ç–æ–≤ –∏ –ª–æ–≥–æ–≤, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ª–æ–≥–∞–º–∏

paths:
  # === –ê–£–¢–ï–ù–¢–ò–§–ò–ö–ê–¶–ò–Ø ===
  /auth/login:
    post:
      summary: –í—Ö–æ–¥ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
      description: –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –ø–æ–ª—É—á–µ–Ω–∏–µ JWT —Ç–æ–∫–µ–Ω–æ–≤
      tags:
        - –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
      security: [ ]  # –ù–µ —Ç—Ä–µ–±—É–µ—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/LoginRequest'
            examples:
              owner_login:
                summary: –í—Ö–æ–¥ –≤–ª–∞–¥–µ–ª—å—Ü–∞ –∫–æ–º–ø–∞–Ω–∏–∏
                value:
                  login: "owner@example.com"
                  password: "secure_password123"
              moderator_login:
                summary: –í—Ö–æ–¥ –º–æ–¥–µ—Ä–∞—Ç–æ—Ä–∞
                value:
                  login: "moderatorlogin"
                  password: "secure_password123"
      responses:
        '200':
          description: –£—Å–ø–µ—à–Ω–∞—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AuthResponse'
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '422':
          $ref: '#/components/responses/ValidationError'

  /auth/refresh:
    post:
      summary: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ JWT —Ç–æ–∫–µ–Ω–∞
      description: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ access —Ç–æ–∫–µ–Ω–∞ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º refresh —Ç–æ–∫–µ–Ω–∞
      tags:
        - –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
      security:
        - BearerAuth: [ ]
      responses:
        '200':
          description: –£—Å–ø–µ—à–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TokenResponse'
        '401':
          $ref: '#/components/responses/UnauthorizedError'

  /auth/send-registration-code:
    post:
      summary: –û—Ç–ø—Ä–∞–≤–∫–∞ –∫–æ–¥–∞ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è email
      description: –ó–∞–ø—Ä–æ—Å –Ω–∞ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∏–µ email —Å –∫–æ–¥–æ–º –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –ø–æ—á—Ç—ã –¥–ª—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
      tags:
        - –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
      security: [ ]
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/EmailRequest'
      responses:
        '200':
          $ref: '#/components/responses/SuccessMessage'
        '400':
          $ref: '#/components/responses/BadRequestError'
        '429':
          $ref: '#/components/responses/RateLimitError'

  /auth/reset-password-request:
    post:
      summary: –ó–∞–ø—Ä–æ—Å –Ω–∞ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–∞—Ä–æ–ª—è
      description: –û—Ç–ø—Ä–∞–≤–∫–∞ –∫–æ–¥–∞ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –ø–∞—Ä–æ–ª—è –Ω–∞ email
      tags:
        - –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
      security: [ ]
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/EmailRequest'
      responses:
        '200':
          $ref: '#/components/responses/SuccessMessage'
        '400':
          $ref: '#/components/responses/BadRequestError'
        '404':
          $ref: '#/components/responses/NotFoundError'

  /auth/reset-password-confirm:
    post:
      summary: –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –ø–∞—Ä–æ–ª—è
      description: –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —Å–º–µ–Ω—ã –ø–∞—Ä–æ–ª—è —Å –ø–æ–º–æ—â—å—é –∫–æ–¥–∞ –∏–∑ email
      tags:
        - –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
      security: [ ]
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PasswordResetRequest'
      responses:
        '200':
          $ref: '#/components/responses/SuccessMessage'
        '400':
          $ref: '#/components/responses/BadRequestError'
        '422':
          $ref: '#/components/responses/ValidationError'

  # === –ö–õ–ò–ï–ù–¢–´ ===
  /clients:
    post:
      summary: –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–æ–≤–æ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞
      description: –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–æ–≤–æ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞ –∏ —Å–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å —Ä–æ–ª—å—é owner
      tags:
        - –ö–ª–∏–µ–Ω—Ç—ã
      security: [ ]
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ClientRegistrationRequest'
      responses:
        '201':
          $ref: '#/components/responses/SuccessMessage'
        '400':
          $ref: '#/components/responses/BadRequestError'
        '409':
          $ref: '#/components/responses/ConflictError'
        '422':
          $ref: '#/components/responses/ValidationError'

  /clients/send-code:
    delete:
      summary: –ó–∞–ø—Ä–æ—Å –∫–æ–¥–∞ –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è –∞–∫–∫–∞—É–Ω—Ç–∞
      description: –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∫–æ–¥ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è –∞–∫–∫–∞—É–Ω—Ç–∞ –Ω–∞ email
      tags:
        - –ö–ª–∏–µ–Ω—Ç—ã
      responses:
        '200':
          $ref: '#/components/responses/SuccessMessage'
        '400':
          $ref: '#/components/responses/BadRequestError'
        '404':
          $ref: '#/components/responses/NotFoundError'

  /clients/confirm:
    delete:
      summary: –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —É–¥–∞–ª–µ–Ω–∏—è –∞–∫–∫–∞—É–Ω—Ç–∞
      description: –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —É–¥–∞–ª–µ–Ω–∏—è –∞–∫–∫–∞—É–Ω—Ç–∞ —Å –ø–æ–º–æ—â—å—é –∫–æ–¥–∞ –∏–∑ email
      tags:
        - –ö–ª–∏–µ–Ω—Ç—ã
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ConfirmationCodeRequest'
      responses:
        '200':
          $ref: '#/components/responses/SuccessMessage'
        '400':
          $ref: '#/components/responses/BadRequestError'
        '422':
          $ref: '#/components/responses/ValidationError'

  /clients/sensitivity:
    get:
      summary: –ü–æ–ª—É—á–∏—Ç—å —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –Ω–µ–π—Ä–æ—Å–µ—Ç–∏
      description: –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–µ–∫—É—â—É—é —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –Ω–µ–π—Ä–æ—Å–µ—Ç–∏ –∫–ª–∏–µ–Ω—Ç–∞
      tags:
        - –ö–ª–∏–µ–Ω—Ç—ã
      responses:
        '200':
          description: –¢–µ–∫—É—â–∞—è —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SensitivityResponse'
        '401':
          $ref: '#/components/responses/UnauthorizedError'

    patch:
      summary: –ò–∑–º–µ–Ω–∏—Ç—å —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –Ω–µ–π—Ä–æ—Å–µ—Ç–∏
      description: –ò–∑–º–µ–Ω–∏—Ç—å —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –Ω–µ–π—Ä–æ—Å–µ—Ç–∏ –¥–ª—è –¥–∞–Ω–Ω–æ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞
      tags:
        - –ö–ª–∏–µ–Ω—Ç—ã
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SensitivityRequest'
      responses:
        '200':
          $ref: '#/components/responses/SuccessMessage'
        '400':
          $ref: '#/components/responses/BadRequestError'
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '422':
          $ref: '#/components/responses/ValidationError'

  # === –õ–ò–¶–ï–ù–ó–ò–ò ===
  /licenses:
    get:
      summary: –ü–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø–Ω—ã–µ –ª–∏—Ü–µ–Ω–∑–∏–∏
      description: –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Ç–∏–ø–æ–≤ –ª–∏—Ü–µ–Ω–∑–∏–π –∏ –∏—Ö —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏
      tags:
        - –õ–∏—Ü–µ–Ω–∑–∏–∏
      responses:
        '200':
          description: –°–ø–∏—Å–æ–∫ –ª–∏—Ü–µ–Ω–∑–∏–π
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/License'
        '401':
          $ref: '#/components/responses/UnauthorizedError'

    post:
      summary: –ü—Ä–∏–æ–±—Ä–µ—Å—Ç–∏ –ª–∏—Ü–µ–Ω–∑–∏—é
      description: –ü–æ–∫—É–ø–∫–∞ –ª–∏—Ü–µ–Ω–∑–∏–∏ —Å —É–∫–∞–∑–∞–Ω–Ω—ã–º —Ç–∏–ø–æ–º –∏ –º–µ—Ç–æ–¥–æ–º –æ–ø–ª–∞—Ç—ã
      tags:
        - –õ–∏—Ü–µ–Ω–∑–∏–∏
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/LicensePurchaseRequest'
      responses:
        '201':
          description: –õ–∏—Ü–µ–Ω–∑–∏—è –ø—Ä–∏–æ–±—Ä–µ—Ç–µ–Ω–∞
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/LicensePurchaseResponse'
        '400':
          $ref: '#/components/responses/BadRequestError'
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '402':
          description: –û—à–∏–±–∫–∞ –æ–ø–ª–∞—Ç—ã
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ErrorResponse'

  # === –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–ò ===
  /users:
    get:
      summary: –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
      description: –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Å –∫–ª–∏–µ–Ω—Ç–æ–º
      tags:
        - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
      parameters:
        - name: role
          in: query
          description: –§–∏–ª—å—Ç—Ä –ø–æ —Ä–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
          schema:
            $ref: '#/components/schemas/UserRole'
        - name: page
          in: query
          description: –ù–æ–º–µ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü—ã –¥–ª—è –ø–∞–≥–∏–Ω–∞—Ü–∏–∏
          schema:
            type: integer
            minimum: 1
            default: 1
        - name: limit
          in: query
          description: –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ
          schema:
            type: integer
            minimum: 1
            maximum: 100
            default: 20
      responses:
        '200':
          description: –°–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/UsersListResponse'
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '403':
          $ref: '#/components/responses/ForbiddenError'

  /users/me:
    get:
      summary: –ü–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
      description: –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ç–µ–∫—É—â–µ–º –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω–æ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ
      tags:
        - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
      responses:
        '200':
          description: –î–∞–Ω–Ω—ã–µ —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/User'
        '401':
          $ref: '#/components/responses/UnauthorizedError'

  /users/sub-account:
    post:
      summary: –°–æ–∑–¥–∞—Ç—å —Å—É–±-–∞–∫–∫–∞—É–Ω—Ç
      description: –°–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—ã–π —Å—É–±-–∞–∫–∫–∞—É–Ω—Ç —Å —É–∫–∞–∑–∞–Ω–Ω—ã–º–∏ –ø—Ä–∞–≤–∞–º–∏
      tags:
        - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SubAccountRequest'
      responses:
        '201':
          description: –°—É–±-–∞–∫–∫–∞—É–Ω—Ç —Å–æ–∑–¥–∞–Ω
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/User'
        '400':
          $ref: '#/components/responses/BadRequestError'
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '403':
          $ref: '#/components/responses/ForbiddenError'
        '422':
          $ref: '#/components/responses/ValidationError'

  /users/{userId}:
    patch:
      summary: –û–±–Ω–æ–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
      description: –û–±–Ω–æ–≤–ª—è–µ—Ç –¥–∞–Ω–Ω—ã–µ —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
      tags:
        - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
      parameters:
        - $ref: '#/components/parameters/UserId'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UserUpdateRequest'
      responses:
        '200':
          description: –î–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω—ã
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/User'
        '400':
          $ref: '#/components/responses/BadRequestError'
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '403':
          $ref: '#/components/responses/ForbiddenError'
        '404':
          $ref: '#/components/responses/NotFoundError'
        '422':
          $ref: '#/components/responses/ValidationError'

    delete:
      summary: –£–¥–∞–ª–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
      description: –£–¥–∞–ª—è–µ—Ç —É—á–µ—Ç–Ω—É—é –∑–∞–ø–∏—Å—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ —É–∫–∞–∑–∞–Ω–Ω–æ–º—É –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—É
      tags:
        - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
      parameters:
        - $ref: '#/components/parameters/UserId'
      responses:
        '200':
          $ref: '#/components/responses/SuccessMessage'
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '403':
          $ref: '#/components/responses/ForbiddenError'
        '404':
          $ref: '#/components/responses/NotFoundError'
        '500':
          $ref: '#/components/responses/InternalServerError'

  # === –ö–ê–ú–ï–†–´ ===
  /cameras:
    get:
      summary: –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –∫–∞–º–µ—Ä
      description: –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –∫–∞–º–µ—Ä, —Å–≤—è–∑–∞–Ω–Ω—ã—Ö —Å –∫–ª–∏–µ–Ω—Ç–æ–º
      tags:
        - –ö–∞–º–µ—Ä—ã
      parameters:
        - name: status
          in: query
          description: –§–∏–ª—å—Ç—Ä –ø–æ —Å—Ç–∞—Ç—É—Å—É –∫–∞–º–µ—Ä—ã
          schema:
            $ref: '#/components/schemas/CameraStatus'
        - name: page
          in: query
          description: –ù–æ–º–µ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü—ã –¥–ª—è –ø–∞–≥–∏–Ω–∞—Ü–∏–∏
          schema:
            type: integer
            minimum: 1
            default: 1
        - name: limit
          in: query
          description: –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–∞–º–µ—Ä –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ
          schema:
            type: integer
            minimum: 1
            maximum: 100
            default: 20
      responses:
        '200':
          description: –°–ø–∏—Å–æ–∫ –∫–∞–º–µ—Ä
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CamerasListResponse'
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '422':
          $ref: '#/components/responses/ValidationError'

    post:
      summary: –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—É—é –∫–∞–º–µ—Ä—É
      description: –°–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—É—é –∫–∞–º–µ—Ä—É —Å —É–∫–∞–∑–∞–Ω–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
      tags:
        - –ö–∞–º–µ—Ä—ã
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CameraCreateRequest'
      responses:
        '201':
          description: –ö–∞–º–µ—Ä–∞ —Å–æ–∑–¥–∞–Ω–∞
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Camera'
        '400':
          $ref: '#/components/responses/BadRequestError'
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '422':
          $ref: '#/components/responses/ValidationError'

  /cameras/{cameraId}:
    get:
      summary: –ü–æ–ª—É—á–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∫–∞–º–µ—Ä–µ
      description: –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–æ–¥—Ä–æ–±–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∫–∞–º–µ—Ä–µ –ø–æ ID
      tags:
        - –ö–∞–º–µ—Ä—ã
      parameters:
        - $ref: '#/components/parameters/CameraId'
      responses:
        '200':
          description: –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–∞–º–µ—Ä–µ
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Camera'
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '404':
          $ref: '#/components/responses/NotFoundError'

    patch:
      summary: –û–±–Ω–æ–≤–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∫–∞–º–µ—Ä–µ
      description: –û–±–Ω–æ–≤–ª—è–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –∫–∞–º–µ—Ä—ã
      tags:
        - –ö–∞–º–µ—Ä—ã
      parameters:
        - $ref: '#/components/parameters/CameraId'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CameraUpdateRequest'
      responses:
        '200':
          description: –ö–∞–º–µ—Ä–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∞
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Camera'
        '400':
          $ref: '#/components/responses/BadRequestError'
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '403':
          $ref: '#/components/responses/ForbiddenError'
        '404':
          $ref: '#/components/responses/NotFoundError'
        '422':
          $ref: '#/components/responses/ValidationError'

  /cameras/{cameraId}/soft:
    delete:
      summary: –ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å –∫–∞–º–µ—Ä—É –≤ –∫–æ—Ä–∑–∏–Ω—É
      description: –ú—è–≥–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –∫–∞–º–µ—Ä—ã (—É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Å—Ç–∞—Ç—É—Å 'deleted')
      tags:
        - –ö–∞–º–µ—Ä—ã
      parameters:
        - $ref: '#/components/parameters/CameraId'
      responses:
        '200':
          $ref: '#/components/responses/SuccessMessage'
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '403':
          $ref: '#/components/responses/ForbiddenError'
        '404':
          $ref: '#/components/responses/NotFoundError'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /cameras/{cameraId}/permanently:
    delete:
      summary: –£–¥–∞–ª–∏—Ç—å –∫–∞–º–µ—Ä—É –Ω–∞–≤—Å–µ–≥–¥–∞
      description: –ü–æ–ª–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –∫–∞–º–µ—Ä—ã –∏ –≤—Å–µ—Ö —Å–≤—è–∑–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
      tags:
        - –ö–∞–º–µ—Ä—ã
      parameters:
        - $ref: '#/components/parameters/CameraId'
      responses:
        '200':
          $ref: '#/components/responses/SuccessMessage'
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '403':
          $ref: '#/components/responses/ForbiddenError'
        '404':
          $ref: '#/components/responses/NotFoundError'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /cameras/permanently/range:
    delete:
      summary: –ú–∞—Å—Å–æ–≤–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –∫–∞–º–µ—Ä
      description: –ü–æ–ª–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∫–∞–º–µ—Ä –∏ –≤—Å–µ—Ö —Å–≤—è–∑–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
      tags:
        - –ö–∞–º–µ—Ä—ã
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/BulkDeleteRequest'
      responses:
        '200':
          $ref: '#/components/responses/SuccessMessage'
        '400':
          $ref: '#/components/responses/BadRequestError'
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '403':
          $ref: '#/components/responses/ForbiddenError'
        '422':
          $ref: '#/components/responses/ValidationError'

  # === –ò–ù–°–ü–ï–ö–¶–ò–ò ===
  /inspections:
    post:
      summary: –ó–∞–ø—É—Å—Ç–∏—Ç—å –∏–Ω—Å–ø–µ–∫—Ü–∏—é
      description: –ó–∞–ø—É—Å–∫–∞–µ—Ç –Ω–æ–≤—É—é –∏–Ω—Å–ø–µ–∫—Ü–∏—é –Ω–∞ —É–∫–∞–∑–∞–Ω–Ω–æ–π –∫–∞–º–µ—Ä–µ —Å –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º
      tags:
        - –ò–Ω—Å–ø–µ–∫—Ü–∏–∏
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              type: object
              required:
                - batch_number
                - camera_id
                - image
              properties:
                batch_number:
                  type: string
                  description: –ù–æ–º–µ—Ä –ø–∞—Ä—Ç–∏–∏ –¥–ª—è –∏–Ω—Å–ø–µ–∫—Ü–∏–∏
                  example: "BATCH-002"
                camera_id:
                  type: string
                  description: ID –∫–∞–º–µ—Ä—ã –¥–ª—è –ø—Ä–æ–≤–µ–¥–µ–Ω–∏—è –∏–Ω—Å–ø–µ–∫—Ü–∏–∏
                  example: "13"
                image:
                  type: string
                  format: binary
                  description: –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞
      responses:
        '200':
          description: –ò–Ω—Å–ø–µ–∫—Ü–∏—è —É—Å–ø–µ—à–Ω–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞
        '400':
          $ref: '#/components/responses/BadRequestError'
        '401':
          $ref: '#/components/responses/UnauthorizedError'

  # === –î–ï–§–ï–ö–¢–´ ===
  /defects:
    get:
      summary: –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –¥–µ—Ñ–µ–∫—Ç—ã
      description: –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –¥–µ—Ñ–µ–∫—Ç–æ–≤
      tags:
        - –î–µ—Ñ–µ–∫—Ç—ã
      responses:
        '200':
          description: –°–ø–∏—Å–æ–∫ –¥–µ—Ñ–µ–∫—Ç–æ–≤
        '401':
          $ref: '#/components/responses/UnauthorizedError'

  /defects/camera/{cameraId}:
    get:
      summary: –ü–æ–ª—É—á–∏—Ç—å –¥–µ—Ñ–µ–∫—Ç—ã –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –∫–∞–º–µ—Ä—ã
      description: –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –¥–µ—Ñ–µ–∫—Ç–æ–≤, –æ–±–Ω–∞—Ä—É–∂–µ–Ω–Ω—ã—Ö –Ω–∞ —É–∫–∞–∑–∞–Ω–Ω–æ–π –∫–∞–º–µ—Ä–µ
      tags:
        - –î–µ—Ñ–µ–∫—Ç—ã
      parameters:
        - name: cameraId
          in: path
          required: true
          description: ID –∫–∞–º–µ—Ä—ã
          schema:
            type: integer
            example: 3
      responses:
        '200':
          description: –°–ø–∏—Å–æ–∫ –¥–µ—Ñ–µ–∫—Ç–æ–≤ –¥–ª—è —É–∫–∞–∑–∞–Ω–Ω–æ–π –∫–∞–º–µ—Ä—ã
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '404':
          $ref: '#/components/responses/NotFoundError'

  /defects/{defectId}/restore:
    patch:
      summary: –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –¥–µ—Ñ–µ–∫—Ç –∏–∑ –∫–æ—Ä–∑–∏–Ω—ã
      description: –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –¥–µ—Ñ–µ–∫—Ç –∏–∑ –∫–æ—Ä–∑–∏–Ω—ã
      tags:
        - –î–µ—Ñ–µ–∫—Ç—ã
      parameters:
        - name: defectId
          in: path
          required: true
          description: ID –¥–µ—Ñ–µ–∫—Ç–∞
          schema:
            type: integer
            example: 1
      responses:
        '200':
          $ref: '#/components/responses/SuccessMessage'
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '404':
          $ref: '#/components/responses/NotFoundError'

  /defects/{defectId}/soft:
    delete:
      summary: –ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å –¥–µ—Ñ–µ–∫—Ç –≤ –∫–æ—Ä–∑–∏–Ω—É
      description: –ú—è–≥–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –¥–µ—Ñ–µ–∫—Ç–∞
      tags:
        - –î–µ—Ñ–µ–∫—Ç—ã
      parameters:
        - name: defectId
          in: path
          required: true
          description: ID –¥–µ—Ñ–µ–∫—Ç–∞
          schema:
            type: integer
            example: 2
      responses:
        '200':
          $ref: '#/components/responses/SuccessMessage'
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '404':
          $ref: '#/components/responses/NotFoundError'

  /defects/{defectId}/permanently:
    delete:
      summary: –£–¥–∞–ª–∏—Ç—å –¥–µ—Ñ–µ–∫—Ç –Ω–∞–≤—Å–µ–≥–¥–∞
      description: –ü–æ–ª–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –¥–µ—Ñ–µ–∫—Ç–∞ –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
      tags:
        - –î–µ—Ñ–µ–∫—Ç—ã
      parameters:
        - name: defectId
          in: path
          required: true
          description: ID –¥–µ—Ñ–µ–∫—Ç–∞
          schema:
            type: integer
            example: 1
      responses:
        '200':
          $ref: '#/components/responses/SuccessMessage'
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '404':
          $ref: '#/components/responses/NotFoundError'

  /defects/permanently/range:
    delete:
      summary: –ú–∞—Å—Å–æ–≤–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –¥–µ—Ñ–µ–∫—Ç–æ–≤ –ø–æ –¥–∏–∞–ø–∞–∑–æ–Ω—É –¥–∞—Ç
      description: –ü–æ–ª–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –≤—Å–µ—Ö –¥–µ—Ñ–µ–∫—Ç–æ–≤ –≤ —É–∫–∞–∑–∞–Ω–Ω–æ–º –≤—Ä–µ–º–µ–Ω–Ω–æ–º –¥–∏–∞–ø–∞–∑–æ–Ω–µ
      tags:
        - –î–µ—Ñ–µ–∫—Ç—ã
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - start_date
                - end_date
              properties:
                start_date:
                  type: string
                  format: date-time
                  description: –ù–∞—á–∞–ª—å–Ω–∞—è –¥–∞—Ç–∞ –¥–∏–∞–ø–∞–∑–æ–Ω–∞
                  example: "2025-06-02T10:30:00.0000000"
                end_date:
                  type: string
                  format: date-time
                  description: –ö–æ–Ω–µ—á–Ω–∞—è –¥–∞—Ç–∞ –¥–∏–∞–ø–∞–∑–æ–Ω–∞
                  example: "2025-06-02T10:38:00.000000"
      responses:
        '200':
          $ref: '#/components/responses/SuccessMessage'
        '400':
          $ref: '#/components/responses/BadRequestError'
        '401':
          $ref: '#/components/responses/UnauthorizedError'

  /defects/permanently/all:
    delete:
      summary: –û—á–∏—Å—Ç–∏—Ç—å –∫–æ—Ä–∑–∏–Ω—É –¥–µ—Ñ–µ–∫—Ç–æ–≤
      description: –ü–æ–ª–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –≤—Å–µ—Ö –¥–µ—Ñ–µ–∫—Ç–æ–≤ –∏–∑ –∫–æ—Ä–∑–∏–Ω—ã
      tags:
        - –î–µ—Ñ–µ–∫—Ç—ã
      responses:
        '200':
          $ref: '#/components/responses/SuccessMessage'
        '401':
          $ref: '#/components/responses/UnauthorizedError'

  # === –≠–ö–°–ü–û–†–¢ ===
  /export/report:
    post:
      summary: –≠–∫—Å–ø–æ—Ä—Ç –æ—Ç—á–µ—Ç–∞
      description: –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç –æ—Ç—á–µ—Ç –≤ —É–∫–∞–∑–∞–Ω–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ –∑–∞ –∑–∞–¥–∞–Ω–Ω—ã–π –ø–µ—Ä–∏–æ–¥
      tags:
        - –≠–∫—Å–ø–æ—Ä—Ç
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ExportRequest'
      responses:
        '200':
          description: –§–∞–π–ª –æ—Ç—á–µ—Ç–∞
          content:
            text/csv:
              schema:
                type: string
                format: binary
            application/pdf:
              schema:
                type: string
                format: binary
        '400':
          $ref: '#/components/responses/BadRequestError'
        '401':
          $ref: '#/components/responses/UnauthorizedError'

  /export/logs:
    post:
      summary: –≠–∫—Å–ø–æ—Ä—Ç –ª–æ–≥–æ–≤
      description: –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç –ª–æ–≥–∏ –≤ —É–∫–∞–∑–∞–Ω–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ –∑–∞ –∑–∞–¥–∞–Ω–Ω—ã–π –ø–µ—Ä–∏–æ–¥
      tags:
        - –≠–∫—Å–ø–æ—Ä—Ç
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ExportRequest'
      responses:
        '200':
          description: –§–∞–π–ª –ª–æ–≥–æ–≤
          content:
            text/csv:
              schema:
                type: string
                format: binary
            application/pdf:
              schema:
                type: string
                format: binary
        '400':
          $ref: '#/components/responses/BadRequestError'
        '401':
          $ref: '#/components/responses/UnauthorizedError'

    delete:
      summary: –£–¥–∞–ª–∏—Ç—å –ª–æ–≥–∏
      description: –£–¥–∞–ª—è–µ—Ç –ª–æ–≥–∏ –∑–∞ —É–∫–∞–∑–∞–Ω–Ω—ã–π –ø–µ—Ä–∏–æ–¥
      tags:
        - –≠–∫—Å–ø–æ—Ä—Ç
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/LogsDeleteRequest'
      responses:
        '200':
          description: –õ–æ–≥–∏ —É–¥–∞–ª–µ–Ω—ã
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/LogsDeleteResponse'
        '400':
          $ref: '#/components/responses/BadRequestError'
        '401':
          $ref: '#/components/responses/UnauthorizedError'

components:
  securitySchemes:
    BearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT
      description: |
        JWT —Ç–æ–∫–µ–Ω, –ø–æ–ª—É—á–µ–Ω–Ω—ã–π —á–µ—Ä–µ–∑ /auth/login. 
        –§–æ—Ä–º–∞—Ç: Authorization: Bearer <token>

  parameters:
    UserId:
      name: userId
      in: path
      required: true
      description: –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
      schema:
        type: integer
        minimum: 1
        example: 123

    CameraId:
      name: cameraId
      in: path
      required: true
      description: –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∫–∞–º–µ—Ä—ã
      schema:
        type: integer
        minimum: 1
        example: 456

    DefectId:
      name: defectId
      in: path
      required: true
      description: ID –¥–µ—Ñ–µ–∫—Ç–∞
      schema:
        type: integer
        minimum: 1
        example: 1

  schemas:
    # === –ë–ê–ó–û–í–´–ï –¢–ò–ü–´ ===
    UserRole:
      type: string
      enum: [ owner, admin, moderator, user ]
      description: –†–æ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ —Å–∏—Å—Ç–µ–º–µ

    ClientType:
      type: string
      enum: [ legal person, individual ]
      description: –¢–∏–ø –∫–ª–∏–µ–Ω—Ç–∞

    CameraStatus:
      type: string
      enum: [ active, non_active, deleted ]
      description: –°—Ç–∞—Ç—É—Å –∫–∞–º–µ—Ä—ã

    ColorTheme:
      type: string
      enum: [ light, dark ]
      description: –¶–≤–µ—Ç–æ–≤–∞—è —Ç–µ–º–∞ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞

    FontSize:
      type: string
      enum: [ small, medium, large ]
      description: –†–∞–∑–º–µ—Ä —à—Ä–∏—Ñ—Ç–∞ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞

    # === –≠–ö–°–ü–û–†–¢ ===
    ExportRequest:
      type: object
      required:
        - start_date
        - end_date
        - format
      properties:
        start_date:
          type: string
          format: date-time
          description: –ù–∞—á–∞–ª—å–Ω–∞—è –¥–∞—Ç–∞ –ø–µ—Ä–∏–æ–¥–∞
          example: "2025-06-02T10:02:02.582153"
        end_date:
          type: string
          format: date-time
          description: –ö–æ–Ω–µ—á–Ω–∞—è –¥–∞—Ç–∞ –ø–µ—Ä–∏–æ–¥–∞
          example: "2025-06-02T10:02:54.661714"
        format:
          type: string
          enum: [ csv, pdf ]
          description: –§–æ—Ä–º–∞—Ç —ç–∫—Å–ø–æ—Ä—Ç–∞
          example: "csv"

    LogsDeleteRequest:
      type: object
      required:
        - start_date
        - end_date
      properties:
        start_date:
          type: string
          format: date-time
          description: –ù–∞—á–∞–ª—å–Ω–∞—è –¥–∞—Ç–∞ –ø–µ—Ä–∏–æ–¥–∞ –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è
          example: "2025-05-02T10:02:02.582153"
        end_date:
          type: string
          format: date-time
          description: –ö–æ–Ω–µ—á–Ω–∞—è –¥–∞—Ç–∞ –ø–µ—Ä–∏–æ–¥–∞ –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è
          example: "2025-10-02T10:02:54.661714"

    LogsDeleteResponse:
      type: object
      required:
        - message
        - deleted_count
      properties:
        message:
          type: string
          description: –°–æ–æ–±—â–µ–Ω–∏–µ –æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ —É–¥–∞–ª–µ–Ω–∏—è
          example: "Deleted 20 records"
        deleted_count:
          type: integer
          description: –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —É–¥–∞–ª–µ–Ω–Ω—ã—Ö –∑–∞–ø–∏—Å–µ–π
          minimum: 0
          example: 20

    # === –ë–ê–ó–û–í–´–ï –û–¢–í–ï–¢–´ ===
    ErrorResponse:
      type: object
      required:
        - error
        - timestamp
      properties:
        error:
          type: string
          description: –û–ø–∏—Å–∞–Ω–∏–µ –æ—à–∏–±–∫–∏
          example: "Invalid input data"
        details:
          type: object
          description: –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –¥–µ—Ç–∞–ª–∏ –æ—à–∏–±–∫–∏
        timestamp:
          type: string
          format: date-time
          description: –í—Ä–µ–º—è –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏—è –æ—à–∏–±–∫–∏
          example: "2024-01-15T10:30:00Z"
        request_id:
          type: string
          description: –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∑–∞–ø—Ä–æ—Å–∞ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
          example: "req_123456789"

    MessageResponse:
      type: object
      required:
        - message
      properties:
        message:
          type: string
          description: –°–æ–æ–±—â–µ–Ω–∏–µ –æ–± —É—Å–ø–µ—à–Ω–æ–º –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ –æ–ø–µ—Ä–∞—Ü–∏–∏
          example: "Operation completed successfully"

    ValidationError:
      type: object
      required:
        - error
        - violations
      properties:
        error:
          type: string
          example: "Validation failed"
        violations:
          type: array
          items:
            type: object
            required:
              - field
              - message
            properties:
              field:
                type: string
                description: –ü–æ–ª–µ —Å –æ—à–∏–±–∫–æ–π –≤–∞–ª–∏–¥–∞—Ü–∏–∏
                example: "email"
              message:
                type: string
                description: –û–ø–∏—Å–∞–Ω–∏–µ –æ—à–∏–±–∫–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏
                example: "Invalid email format"

    PaginationMeta:
      type: object
      required:
        - page
        - limit
        - total
        - total_pages
      properties:
        page:
          type: integer
          description: –¢–µ–∫—É—â–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
          minimum: 1
          example: 1
        limit:
          type: integer
          description: –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ
          minimum: 1
          example: 20
        total:
          type: integer
          description: –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤
          minimum: 0
          example: 100
        total_pages:
          type: integer
          description: –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç—Ä–∞–Ω–∏—Ü
          minimum: 0
          example: 5

    # === –ê–£–¢–ï–ù–¢–ò–§–ò–ö–ê–¶–ò–Ø ===
    LoginRequest:
      type: object
      required:
        - login
        - password
      properties:
        login:
          type: string
          description: Email –≤–ª–∞–¥–µ–ª—å—Ü–∞ –∏–ª–∏ –ª–æ–≥–∏–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
          example: "owner@example.com"
        password:
          type: string
          format: password
          description: –ü–∞—Ä–æ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
          minLength: 6
          example: "secure_password123"

    AuthResponse:
      type: object
      required:
        - access_token
        - refresh_token
        - token_type
        - expires_in
        - user
      properties:
        access_token:
          type: string
          description: JWT access —Ç–æ–∫–µ–Ω
          example: "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
        refresh_token:
          type: string
          description: JWT refresh —Ç–æ–∫–µ–Ω –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
          example: "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
        token_type:
          type: string
          enum: [ Bearer ]
          example: "Bearer"
        expires_in:
          type: integer
          description: –í—Ä–µ–º—è –∂–∏–∑–Ω–∏ access —Ç–æ–∫–µ–Ω–∞ –≤ —Å–µ–∫—É–Ω–¥–∞—Ö
          example: 3600
        user:
          $ref: '#/components/schemas/User'

    TokenResponse:
      type: object
      required:
        - access_token
        - token_type
        - expires_in
      properties:
        access_token:
          type: string
          description: –ù–æ–≤—ã–π JWT access —Ç–æ–∫–µ–Ω
          example: "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
        token_type:
          type: string
          enum: [ Bearer ]
          example: "Bearer"
        expires_in:
          type: integer
          description: –í—Ä–µ–º—è –∂–∏–∑–Ω–∏ —Ç–æ–∫–µ–Ω–∞ –≤ —Å–µ–∫—É–Ω–¥–∞—Ö
          example: 3600

    EmailRequest:
      type: object
      required:
        - email
      properties:
        email:
          type: string
          format: email
          description: Email –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
          example: "user@example.com"

    PasswordResetRequest:
      type: object
      required:
        - email
        - new_password
        - code
      properties:
        email:
          type: string
          format: email
          description: Email –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
          example: "user@example.com"
        new_password:
          type: string
          format: password
          description: –ù–æ–≤—ã–π –ø–∞—Ä–æ–ª—å
          minLength: 6
          example: "new_secure_password123"
        code:
          type: string
          description: –ö–æ–¥ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –∏–∑ email
          pattern: '^[0-9]{6}$'
          example: "123456"

    # === –ö–õ–ò–ï–ù–¢–´ ===
    ClientRegistrationRequest:
      type: object
      required:
        - email
        - password
        - tin
        - type
        - code
      properties:
        email:
          type: string
          format: email
          description: Email –∫–ª–∏–µ–Ω—Ç–∞ –∏ –±—É–¥—É—â–µ–≥–æ –≤–ª–∞–¥–µ–ª—å—Ü–∞
          example: "company@example.com"
        password:
          type: string
          format: password
          description: –ü–∞—Ä–æ–ª—å –¥–ª—è —Å–æ–∑–¥–∞–≤–∞–µ–º–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è-–≤–ª–∞–¥–µ–ª—å—Ü–∞
          minLength: 6
          example: "secure_password123"
        tin:
          type: string
          description: –ò–ù–ù –∫–ª–∏–µ–Ω—Ç–∞
          pattern: '^[0-9]{10,12}$'
          example: "7712345678"
        type:
          $ref: '#/components/schemas/ClientType'
        code:
          type: string
          description: –ö–æ–¥ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –∏–∑ email
          pattern: '^[0-9]{6}$'
          example: "123456"

    ConfirmationCodeRequest:
      type: object
      required:
        - code
      properties:
        code:
          type: integer
          description: –ö–æ–¥ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –∏–∑ email
          pattern: '^[0-9]{6}$'
          example: 123456

    SensitivityRequest:
      type: object
      required:
        - sensivity
      properties:
        sensivity:
          type: number
          format: float
          description: –ß—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –Ω–µ–π—Ä–æ—Å–µ—Ç–∏ (–æ—Ç 0.0 –¥–æ 1.0)
          minimum: 0.0
          maximum: 1.0
          example: 0.75

    SensitivityResponse:
      type: object
      required:
        - sensitivity
      properties:
        sensitivity:
          type: number
          format: float
          description: –¢–µ–∫—É—â–∞—è —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –Ω–µ–π—Ä–æ—Å–µ—Ç–∏
          minimum: 0.0
          maximum: 1.0
          example: 0.75

    # === –õ–ò–¶–ï–ù–ó–ò–ò ===
    License:
      type: object
      required:
        - id
        - name
        - price
        - features
        - duration_days
      properties:
        id:
          type: string
          description: –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ª–∏—Ü–µ–Ω–∑–∏–∏
          example: "premium_monthly"
        name:
          type: string
          description: –ù–∞–∑–≤–∞–Ω–∏–µ –ª–∏—Ü–µ–Ω–∑–∏–∏
          example: "Premium Monthly"
        description:
          type: string
          description: –û–ø–∏—Å–∞–Ω–∏–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π –ª–∏—Ü–µ–Ω–∑–∏–∏
          example: "Full access with advanced analytics"
        price:
          type: number
          format: float
          description: –°—Ç–æ–∏–º–æ—Å—Ç—å –ª–∏—Ü–µ–Ω–∑–∏–∏
          minimum: 0
          example: 99.99
        currency:
          type: string
          description: –í–∞–ª—é—Ç–∞
          enum: [ USD, EUR, RUB ]
          example: "USD"
        features:
          type: array
          items:
            type: string
          description: –°–ø–∏—Å–æ–∫ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π –ª–∏—Ü–µ–Ω–∑–∏–∏
          example: [ "Unlimited cameras", "Advanced analytics", "Priority support" ]
        duration_days:
          type: integer
          description: –ü—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ª–∏—Ü–µ–Ω–∑–∏–∏ –≤ –¥–Ω—è—Ö
          minimum: 1
          example: 30

    LicensePurchaseRequest:
      type: object
      required:
        - license_type
        - payment_method
      properties:
        license_type:
          type: string
          description: –¢–∏–ø –ª–∏—Ü–µ–Ω–∑–∏–∏
          example: "premium_monthly"
        payment_method:
          type: string
          enum: [ card, bank_transfer, cryptocurrency ]
          description: –ú–µ—Ç–æ–¥ –æ–ø–ª–∞—Ç—ã
          example: "card"
        payment_details:
          type: object
          description: –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –æ–ø–ª–∞—Ç—ã
          additionalProperties: true

    LicensePurchaseResponse:
      type: object
      required:
        - license_id
        - status
        - expires_at
      properties:
        license_id:
          type: string
          description: –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ø—Ä–∏–æ–±—Ä–µ—Ç–µ–Ω–Ω–æ–π –ª–∏—Ü–µ–Ω–∑–∏–∏
          example: "lic_123456789"
        status:
          type: string
          enum: [ active, pending, expired ]
          description: –°—Ç–∞—Ç—É—Å –ª–∏—Ü–µ–Ω–∑–∏–∏
          example: "active"
        expires_at:
          type: string
          format: date-time
          description: –î–∞—Ç–∞ –æ–∫–æ–Ω—á–∞–Ω–∏—è –ª–∏—Ü–µ–Ω–∑–∏–∏
          example: "2024-02-15T10:30:00Z"
        payment_id:
          type: string
          description: –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ø–ª–∞—Ç–µ–∂–∞
          example: "pay_123456789"

    # === –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–ò ===
    User:
      type: object
      required:
        - id
        - login
        - role
        - color_theme
        - font_size
        - created_at
      properties:
        id:
          type: integer
          description: –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
          minimum: 1
          example: 123
        login:
          type: string
          description: –õ–æ–≥–∏–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–ª–∏ email –¥–ª—è owner
          example: "userlogin"
        email:
          type: string
          format: email
          description: Email –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (—Ç–æ–ª—å–∫–æ –¥–ª—è owner)
          example: "owner@example.com"
        role:
          $ref: '#/components/schemas/UserRole'
        color_theme:
          $ref: '#/components/schemas/ColorTheme'
        font_size:
          $ref: '#/components/schemas/FontSize'
        last_login:
          type: string
          format: date-time
          description: –í—Ä–µ–º—è –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –≤—Ö–æ–¥–∞
          example: "2024-01-15T10:30:00Z"
        created_at:
          type: string
          format: date-time
          description: –í—Ä–µ–º—è —Å–æ–∑–¥–∞–Ω–∏—è –∞–∫–∫–∞—É–Ω—Ç–∞
          example: "2024-01-10T14:20:00Z"
        updated_at:
          type: string
          format: date-time
          description: –í—Ä–µ–º—è –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
          example: "2024-01-15T10:30:00Z"

    UsersListResponse:
      type: object
      required:
        - data
        - meta
      properties:
        data:
          type: array
          items:
            $ref: '#/components/schemas/User'
        meta:
          $ref: '#/components/schemas/PaginationMeta'

    SubAccountRequest:
      type: object
      required:
        - login
        - password
      properties:
        login:
          type: string
          description: –õ–æ–≥–∏–Ω –¥–ª—è –Ω–æ–≤–æ–≥–æ —Å—É–±-–∞–∫–∫–∞—É–Ω—Ç–∞
          minLength: 3
          maxLength: 50
          pattern: '^[a-zA-Z0-9_-]+$'
          example: "subuserlogin"
        password:
          type: string
          format: password
          description: –ü–∞—Ä–æ–ª—å –¥–ª—è —Å—É–±-–∞–∫–∫–∞—É–Ω—Ç–∞
          minLength: 6
          example: "secure123"
        role:
          type: string
          enum: [ user, moderator, admin ]
          description: –†–æ–ª—å —Å—É–±-–∞–∫–∫–∞—É–Ω—Ç–∞
          default: user
          example: "user"

    UserUpdateRequest:
      type: object
      properties:
        role:
          type: string
          enum: [ admin, moderator, user ]
          description: –ù–æ–≤–∞—è —Ä–æ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–Ω–µ–ª—å–∑—è –∏–∑–º–µ–Ω–∏—Ç—å –Ω–∞ owner)
          example: "moderator"
        color_theme:
          $ref: '#/components/schemas/ColorTheme'
        font_size:
          $ref: '#/components/schemas/FontSize'

    # === –ö–ê–ú–ï–†–´ ===
    Camera:
      type: object
      required:
        - id
        - name
        - camera_url
        - status
        - created_at
      properties:
        id:
          type: integer
          description: –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∫–∞–º–µ—Ä—ã
          minimum: 1
          example: 456
        name:
          type: string
          description: –ù–∞–∑–≤–∞–Ω–∏–µ –∫–∞–º–µ—Ä—ã
          minLength: 1
          maxLength: 100
          example: "–ö–∞–º–µ—Ä–∞ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ–Ω–Ω–æ–π –ª–∏–Ω–∏–∏ #1"
        camera_url:
          type: string
          format: uri
          description: URL –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –∫–∞–º–µ—Ä–µ
          example: "rtsp://192.168.1.100:554/stream"
        status:
          $ref: '#/components/schemas/CameraStatus'
        description:
          type: string
          description: –û–ø–∏—Å–∞–Ω–∏–µ –∫–∞–º–µ—Ä—ã
          maxLength: 500
          example: "–ö–∞–º–µ—Ä–∞ –∫–æ–Ω—Ç—Ä–æ–ª—è –∫–∞—á–µ—Å—Ç–≤–∞ –Ω–∞ –æ—Å–Ω–æ–≤–Ω–æ–π –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ–Ω–Ω–æ–π –ª–∏–Ω–∏–∏"
        location:
          type: string
          description: –†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ –∫–∞–º–µ—Ä—ã
          maxLength: 200
          example: "–¶–µ—Ö #1, –ª–∏–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞"
        created_at:
          type: string
          format: date-time
          description: –í—Ä–µ–º—è —Å–æ–∑–¥–∞–Ω–∏—è –∫–∞–º–µ—Ä—ã
          example: "2024-01-10T14:20:00Z"
        updated_at:
          type: string
          format: date-time
          description: –í—Ä–µ–º—è –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
          example: "2024-01-15T10:30:00Z"
        deleted_at:
          type: string
          format: date-time
          description: –í—Ä–µ–º—è —É–¥–∞–ª–µ–Ω–∏—è (–¥–ª—è –º—è–≥–∫–æ–≥–æ —É–¥–∞–ª–µ–Ω–∏—è)
          nullable: true
          example: null

    CamerasListResponse:
      type: object
      required:
        - data
        - meta
      properties:
        data:
          type: array
          items:
            $ref: '#/components/schemas/Camera'
        meta:
          $ref: '#/components/schemas/PaginationMeta'

    CameraCreateRequest:
      type: object
      required:
        - name
        - camera_url
      properties:
        name:
          type: string
          description: –ù–∞–∑–≤–∞–Ω–∏–µ –∫–∞–º–µ—Ä—ã
          minLength: 1
          maxLength: 100
          example: "–ö–∞–º–µ—Ä–∞ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ–Ω–Ω–æ–π –ª–∏–Ω–∏–∏ #1"
        camera_url:
          type: string
          format: uri
          description: URL –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –∫–∞–º–µ—Ä–µ
          example: "rtsp://192.168.1.100:554/stream"

    CameraUpdateRequest:
      type: object
      properties:
        name:
          type: string
          description: –ù–æ–≤–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –∫–∞–º–µ—Ä—ã
          minLength: 1
          maxLength: 100
          example: "–û–±–Ω–æ–≤–ª–µ–Ω–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –∫–∞–º–µ—Ä—ã"
        camera_url:
          type: string
          format: uri
          description: –ù–æ–≤—ã–π URL –∫–∞–º–µ—Ä—ã
          example: "rtsp://192.168.1.101:554/stream"
        status:
          type: string
          enum: [ active, non_active ]
          description: –ù–æ–≤—ã–π —Å—Ç–∞—Ç—É—Å –∫–∞–º–µ—Ä—ã (deleted –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω –¥–ª—è –ø—Ä—è–º–æ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è)
          example: "active"

    BulkDeleteRequest:
      type: object
      required:
        - camera_ids
      properties:
        camera_ids:
          type: array
          items:
            type: integer
            minimum: 1
          description: –°–ø–∏—Å–æ–∫ ID –∫–∞–º–µ—Ä –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è
          minItems: 1
          maxItems: 100
          example: [ 1, 2, 3, 5, 8 ]

    # === –ò–ù–°–ü–ï–ö–¶–ò–ò ===
    InspectionRequest:
      type: object
      required:
        - batch_number
        - camera_id
        - image
      properties:
        batch_number:
          type: string
          description: –ù–æ–º–µ—Ä –ø–∞—Ä—Ç–∏–∏ –¥–ª—è –∏–Ω—Å–ø–µ–∫—Ü–∏–∏
          example: "BATCH-002"
        camera_id:
          type: string
          description: ID –∫–∞–º–µ—Ä—ã –¥–ª—è –ø—Ä–æ–≤–µ–¥–µ–Ω–∏—è –∏–Ω—Å–ø–µ–∫—Ü–∏–∏
          example: "13"
        image:
          type: string
          format: binary
          description: –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞

    # === –î–ï–§–ï–ö–¢–´ ===
    DateRangeDeleteRequest:
      type: object
      required:
        - start_date
        - end_date
      properties:
        start_date:
          type: string
          format: date-time
          description: –ù–∞—á–∞–ª—å–Ω–∞—è –¥–∞—Ç–∞ –¥–∏–∞–ø–∞–∑–æ–Ω–∞
          example: "2025-06-02T10:30:00.0000000"
        end_date:
          type: string
          format: date-time
          description: –ö–æ–Ω–µ—á–Ω–∞—è –¥–∞—Ç–∞ –¥–∏–∞–ø–∞–∑–æ–Ω–∞
          example: "2025-06-02T10:38:00.000000"

  responses:
    # === –°–¢–ê–ù–î–ê–†–¢–ù–´–ï –û–¢–í–ï–¢–´ ===
    SuccessMessage:
      description: –û–ø–µ—Ä–∞—Ü–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/MessageResponse'

    # === –û–®–ò–ë–ö–ò ===
    BadRequestError:
      description: –ù–µ–≤–µ—Ä–Ω—ã–π –∑–∞–ø—Ä–æ—Å
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ErrorResponse'
          example:
            error: "Invalid request data"
            timestamp: "2024-01-15T10:30:00Z"
            request_id: "req_123456789"

    UnauthorizedError:
      description: –ù–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ErrorResponse'
          example:
            error: "Authentication required"
            timestamp: "2024-01-15T10:30:00Z"
            request_id: "req_123456789"

    ForbiddenError:
      description: –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–∞–≤
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ErrorResponse'
          example:
            error: "Insufficient permissions"
            timestamp: "2024-01-15T10:30:00Z"
            request_id: "req_123456789"

    NotFoundError:
      description: –†–µ—Å—É—Ä—Å –Ω–µ –Ω–∞–π–¥–µ–Ω
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ErrorResponse'
          example:
            error: "Resource not found"
            timestamp: "2024-01-15T10:30:00Z"
            request_id: "req_123456789"

    ConflictError:
      description: –ö–æ–Ω—Ñ–ª–∏–∫—Ç –¥–∞–Ω–Ω—ã—Ö
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ErrorResponse'
          example:
            error: "Resource already exists"
            timestamp: "2024-01-15T10:30:00Z"
            request_id: "req_123456789"

    ValidationError:
      description: –û—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ValidationError'
          example:
            error: "Validation failed"
            violations:
              - field: "email"
                message: "Invalid email format"
              - field: "password"
                message: "Password must be at least 6 characters"

    RateLimitError:
      description: –ü—Ä–µ–≤—ã—à–µ–Ω –ª–∏–º–∏—Ç –∑–∞–ø—Ä–æ—Å–æ–≤
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ErrorResponse'
          example:
            error: "Rate limit exceeded"
            timestamp: "2024-01-15T10:30:00Z"
            request_id: "req_123456789"

    InternalServerError:
      description: –í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –æ—à–∏–±–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ErrorResponse'
          example:
            error: "Internal server error"
            timestamp: "2024-01-15T10:30:00Z"
            request_id: "req_123456789"